<!DOCTYPE html><html lang="en"><head><title>totem/addon/mixins/util/is</title></head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0"><meta name="groc-relative-root" content="../../../../"><meta name="groc-document-path" content="totem/addon/mixins/util/is"><meta name="groc-project-path" content="totem/addon/mixins/util/is.coffee"><meta name="groc-branch-path" content="development"><meta name="groc-github-url" content="https://github.com/sixthedge/etotem-client"><link rel="stylesheet" type="text/css" media="all" href="../../../../assets/style.css"><script type="text/javascript" src="../../../../assets/behavior.js"></script><body><div id="meta"><div class="file-path"><a href="https://github.com/sixthedge/etotem-client/blob/development/totem/addon/mixins/util/is.coffee">totem/addon/mixins/util/is.coffee</a></div></div><div id="document"><a href="/" class="lodestar-link">Back to Guides</a><div class="segment"><div class="code"><div class="wrapper">import ember from <span class="hljs-string">'ember'</span>
import ds    from <span class="hljs-string">'ember-data'</span>
import {env} from <span class="hljs-string">'totem-config/config'</span>

export default ember.Mixin.create

  <span class="hljs-attribute">is_development</span>: <span class="hljs-function">-&gt;</span> env.environment == <span class="hljs-string">'development'</span>

  <span class="hljs-attribute">is_integer</span>:  <span class="hljs-function"><span class="hljs-params">(num)</span> -&gt;</span> num <span class="hljs-keyword">and</span> <span class="hljs-string">"<span class="hljs-subst">#{num}</span>"</span>.match(<span class="hljs-regexp">/^\d+$/</span>)
  <span class="hljs-attribute">is_number</span>:   <span class="hljs-function"><span class="hljs-params">(num)</span> -&gt;</span> Number(num).toString() != <span class="hljs-string">'NaN'</span>

  <span class="hljs-attribute">is_undefined</span>: <span class="hljs-function"><span class="hljs-params">(val)</span> -&gt;</span> <span class="hljs-keyword">typeof</span>(val) == <span class="hljs-string">'undefined'</span>
  <span class="hljs-attribute">is_null</span>:      <span class="hljs-function"><span class="hljs-params">(val)</span> -&gt;</span> val == <span class="hljs-literal">null</span>

  <span class="hljs-attribute">is_string</span>:   <span class="hljs-function"><span class="hljs-params">(obj)</span> -&gt;</span> obj <span class="hljs-keyword">and</span> <span class="hljs-keyword">typeof</span>(obj) == <span class="hljs-string">'string'</span>
  <span class="hljs-attribute">is_hash</span>:     <span class="hljs-function"><span class="hljs-params">(obj)</span> -&gt;</span> obj <span class="hljs-keyword">and</span> <span class="hljs-keyword">typeof</span>(obj) == <span class="hljs-string">'object'</span> <span class="hljs-keyword">and</span> <span class="hljs-keyword">not</span> ember.isArray(obj)
  <span class="hljs-attribute">is_function</span>: <span class="hljs-function"><span class="hljs-params">(fn)</span>  -&gt;</span> fn  <span class="hljs-keyword">and</span> <span class="hljs-keyword">typeof</span>(fn) == <span class="hljs-string">'function'</span>

  <span class="hljs-attribute">is_changeset</span>: <span class="hljs-function"><span class="hljs-params">(obj)</span> -&gt;</span> <span class="hljs-property">@is_hash</span>(obj) <span class="hljs-keyword">and</span> obj.__changeset__ == <span class="hljs-string">'__CHANGESET__'</span>
  <span class="hljs-attribute">is_component</span>: <span class="hljs-function"><span class="hljs-params">(obj)</span> -&gt;</span> <span class="hljs-property">@is_get</span>(obj) <span class="hljs-keyword">and</span> obj.get(<span class="hljs-string">'isComponent'</span>) == <span class="hljs-literal">true</span>
  <span class="hljs-attribute">is_get</span>:       <span class="hljs-function"><span class="hljs-params">(obj)</span> -&gt;</span> <span class="hljs-property">@is_object_function</span>(obj, <span class="hljs-string">'get'</span>)

  <span class="hljs-attribute">is_mixin</span>:   <span class="hljs-function"><span class="hljs-params">(obj)</span> -&gt;</span> obj <span class="hljs-keyword">and</span> obj <span class="hljs-keyword">instanceof</span> ember.Mixin
  <span class="hljs-attribute">is_promise</span>: <span class="hljs-function"><span class="hljs-params">(obj)</span> -&gt;</span> obj <span class="hljs-keyword">and</span> obj <span class="hljs-keyword">instanceof</span> ember.RSVP.Promise
  <span class="hljs-attribute">is_jquery</span>:  <span class="hljs-function"><span class="hljs-params">(obj)</span> -&gt;</span> obj <span class="hljs-keyword">and</span> jQuery <span class="hljs-keyword">and</span> obj <span class="hljs-keyword">instanceof</span>(jQuery)

  <span class="hljs-attribute">is_model</span>:      <span class="hljs-function"><span class="hljs-params">(obj)</span>       -&gt;</span> obj <span class="hljs-keyword">and</span> obj <span class="hljs-keyword">instanceof</span> ds.Model
  <span class="hljs-attribute">is_model_type</span>: <span class="hljs-function"><span class="hljs-params">(obj, type)</span> -&gt;</span> <span class="hljs-property">@is_string</span>(type) <span class="hljs-keyword">and</span> <span class="hljs-property">@model_name</span>(obj) == type

  <span class="hljs-attribute">is_object_function</span>: <span class="hljs-function"><span class="hljs-params">(obj, fn)</span> -&gt;</span> <span class="hljs-property">@is_hash</span>(obj) <span class="hljs-keyword">and</span> <span class="hljs-property">@is_string</span>(fn) <span class="hljs-keyword">and</span> <span class="hljs-property">@is_function</span>(obj[fn])

  <span class="hljs-attribute">is_destroyed</span>: <span class="hljs-function"><span class="hljs-params">(obj)</span> -&gt;</span> <span class="hljs-property">@is_get</span>(obj) <span class="hljs-keyword">and</span> (obj.get(<span class="hljs-string">'isDestroyed'</span>) <span class="hljs-keyword">or</span> obj.get(<span class="hljs-string">'isDestroying'</span>))</div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>is_array: (obj) -&gt; obj and ember.isArray(obj) # does not catch: x={length: 1}; ember.isArray(x) #=&gt; true</p></div></div><div class="code"><div class="wrapper">  <span class="hljs-attribute">is_array</span>: <span class="hljs-function"><span class="hljs-params">(obj)</span> -&gt;</span>
    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>  <span class="hljs-keyword">unless</span> obj
    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>   <span class="hljs-keyword">if</span> (Array.isArray &amp;&amp; Array.isArray(obj))
    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>   <span class="hljs-keyword">if</span> ( (obj.length != <span class="hljs-literal">undefined</span>) &amp;&amp; <span class="hljs-keyword">typeof</span>(obj) == <span class="hljs-string">'object'</span> )
    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span></div></div></div></div></body></html>