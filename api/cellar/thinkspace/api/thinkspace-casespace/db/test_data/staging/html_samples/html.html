<!DOCTYPE html><html lang="en"><head><title>thinkspace/api/thinkspace-casespace/db/test_data/staging/html_samples/html</title></head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0"><meta name="groc-relative-root" content="../../../../../../../"><meta name="groc-document-path" content="thinkspace/api/thinkspace-casespace/db/test_data/staging/html_samples/html"><meta name="groc-project-path" content="src/thinkspace/api/thinkspace-casespace/db/test_data/staging/html_samples/html.rb"><meta name="groc-branch-path" content="master"><meta name="groc-github-url" content="https://github.com/sixthedge/cellar"><link rel="stylesheet" type="text/css" media="all" href="../../../../../../../assets/style.css"><script type="text/javascript" src="../../../../../../../assets/behavior.js"></script><body><div id="meta"><div class="file-path"><a href="https://github.com/sixthedge/cellar/blob/master/src/thinkspace/api/thinkspace-casespace/db/test_data/staging/html_samples/html.rb">src/thinkspace/api/thinkspace-casespace/db/test_data/staging/html_samples/html.rb</a></div></div><div id="document"><a href="/" class="lodestar-link">Back to Guides</a><div class="segment"><div class="code"><div class="wrapper"><span class="hljs-comment">#{staging_html_radio(id)}</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">staging_html_content_one_each_with_paragraph</span><span class="hljs-params">(phase, options={})</span></span>
  id = <span class="hljs-string">"phase_<span class="hljs-subst">#{phase.id}</span>"</span>
  content = &lt;&lt;-<span class="hljs-constant">TEND</span>
    <span class="hljs-comment">#{staging_html_content_text}</span>
    <span class="hljs-comment">#{staging_html_checkbox(id)}</span>
    <span class="hljs-comment">#{staging_html_radio(id)}</span>
    <span class="hljs-comment">#{staging_html_input(id)}</span>
    <span class="hljs-comment">#{staging_html_textarea(id)}</span>
  <span class="hljs-constant">TEND</span>
  html_format_sample_content(content)
<span class="hljs-keyword">end</span>

<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">staging_html_input</span><span class="hljs-params">(id, n=<span class="hljs-number">1</span>)</span></span>
  name    = <span class="hljs-string">"textfield_<span class="hljs-subst">#{id}</span>_n_<span class="hljs-subst">#{n}</span>"</span>
  content = <span class="hljs-string">"&lt;input name=\"<span class="hljs-subst">#{name}</span>\" type=\"text\"&gt;&lt;/input&gt;"</span>
  html_row_wrap content, <span class="hljs-string">"text [<span class="hljs-subst">#{name}</span>]"</span>
<span class="hljs-keyword">end</span>

<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">staging_html_checkbox</span><span class="hljs-params">(id, n=<span class="hljs-number">1</span>)</span></span>
  name    = <span class="hljs-string">"checkbox_<span class="hljs-subst">#{id}</span>_n_<span class="hljs-subst">#{n}</span>"</span>
  content = <span class="hljs-string">"&lt;input name=\"<span class="hljs-subst">#{name}</span>\" type=\"checkbox\"&gt;&lt;/input&gt;"</span>
  html_row_wrap content, <span class="hljs-string">"checkbox [<span class="hljs-subst">#{name}</span>]"</span>
<span class="hljs-keyword">end</span>

<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">staging_html_radio</span><span class="hljs-params">(id, n=<span class="hljs-number">1</span>, vals=<span class="hljs-number">4</span>)</span></span>
  name = <span class="hljs-string">"radio_<span class="hljs-subst">#{id}</span>_n_<span class="hljs-subst">#{n}</span>"</span>
  <span class="hljs-keyword">if</span> vals.is_a?(<span class="hljs-constant">Array</span>)
    values = vals
  <span class="hljs-keyword">else</span>
    values = <span class="hljs-constant">Array</span>.new
    vals.times {|i| values.push(<span class="hljs-string">"radio button <span class="hljs-subst">#{i+<span class="hljs-number">1</span>}</span>"</span>)}
  <span class="hljs-keyword">end</span>
  content = <span class="hljs-string">''</span>
  values.each_with_index <span class="hljs-keyword">do</span> |value, index|
    content += <span class="hljs-string">"&lt;input name=\"<span class="hljs-subst">#{name}</span>\" type=\"radio\" value=\"<span class="hljs-subst">#{value}</span>\"&gt;<span class="hljs-subst">#{value}</span>&lt;/input&gt;"</span>
    content += <span class="hljs-string">'&lt;/br&gt;'</span> <span class="hljs-keyword">if</span> (index + <span class="hljs-number">1</span>) &lt; values.length
  <span class="hljs-keyword">end</span>
  content = <span class="hljs-string">'&lt;div style="margin-bottom: 1em;"&gt;'</span> + content + <span class="hljs-string">'&lt;/div&gt;'</span>
  html_row_wrap(content, <span class="hljs-string">"radio [<span class="hljs-subst">#{name}</span>]"</span>)
<span class="hljs-keyword">end</span>

<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">staging_html_textarea</span><span class="hljs-params">(id, n=<span class="hljs-number">1</span>)</span></span>
  name    = <span class="hljs-string">"textarea_<span class="hljs-subst">#{id}</span>_n_<span class="hljs-subst">#{n}</span>"</span>
  content = <span class="hljs-string">"&lt;textarea name=\"<span class="hljs-subst">#{name}</span>\"&gt;&lt;/textarea&gt;"</span>
  html_row_wrap content, <span class="hljs-string">"textarea [<span class="hljs-subst">#{name}</span>]"</span>
<span class="hljs-keyword">end</span>

<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">html_row_wrap</span><span class="hljs-params">(html, label=<span class="hljs-keyword">nil</span>)</span></span>
  content = <span class="hljs-string">'&lt;div class="ts-grid_row"&gt;&lt;div class="ts-grid_columns small-12"&gt;'</span>
  content += staging_html_label(label)  <span class="hljs-keyword">if</span> label.present?
  content += html
  content += <span class="hljs-string">'&lt;/div&gt;&lt;/div&gt;'</span>
  content
<span class="hljs-keyword">end</span>

<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">staging_html_label</span><span class="hljs-params">(label)</span>;</span> <span class="hljs-string">"&lt;h6&gt;<span class="hljs-subst">#{label || <span class="hljs-string">''</span>}</span>&lt;/h6&gt;"</span>; <span class="hljs-keyword">end</span>

<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">staging_html_content_text</span></span>
  content = &lt;&lt;-<span class="hljs-constant">TEND</span>
    &lt;p&gt;
      <span class="hljs-constant">ThinkSpace</span> is a growing constellation of innovative learning applications each supported
      by a passionate community of users.  <span class="hljs-constant">Join</span> us to provide transformative learning experiences
      <span class="hljs-keyword">for</span> your own students <span class="hljs-keyword">in</span> an exciting, collaborative, online environment.
    &lt;<span class="hljs-regexp">/p&gt;
    &lt;p&gt;
      Our hub has a variety of effective learning applications with ready-to-use cases that can be
      used to enhance your teaching or simply embed the tools from the app into your own custom case.
    &lt;/p</span>&gt;
  <span class="hljs-constant">TEND</span>
  html_row_wrap(content)
<span class="hljs-keyword">end</span>

<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">staging_html_carry_forward</span><span class="hljs-params">(phase, options={})</span></span>
  title = (options[<span class="hljs-symbol">:config</span>] || <span class="hljs-constant">Hash</span>.new)[<span class="hljs-symbol">:carry_forward</span>]
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">if</span> title.blank?
  from_phase = find_casespace_phase(<span class="hljs-symbol">title:</span> title)
  elements   = staging_html_content_input_elements_for_phases([from_phase])
  content    = staging_html_carry_forward_tags(elements)
  html_format_sample_content(content)
<span class="hljs-keyword">end</span>

<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">staging_html_carry_forward_tags</span><span class="hljs-params">(elements)</span></span>
  content  = <span class="hljs-string">'&lt;table style="table-layout: auto; width: auto;"&gt;'</span>
  content += <span class="hljs-string">'&lt;thead&gt;&lt;th&gt;Element Type&lt;/th&gt;&lt;th&gt;Carry Forward Tag&lt;/th&gt;&lt;th&gt;Carry Forward Value&lt;/th&gt;&lt;/thead&gt;&lt;tbody&gt;'</span>
  elements.each <span class="hljs-keyword">do</span> |element|
    name     = element.name
    type     = element.element_type
    tag      = <span class="hljs-string">"&lt;thinkspace type=\"carry_forward\" name=\"<span class="hljs-subst">#{name}</span>\"&gt;&lt;/thinkspace&gt;"</span>
    etag     = staging_escape_html(tag)
    content += <span class="hljs-string">"&lt;tr&gt;&lt;td&gt;<span class="hljs-subst">#{type}</span>&lt;/td&gt;&lt;td style=\"padding-right: 2em;\"&gt;<span class="hljs-subst">#{etag}</span>&lt;/td&gt;&lt;td style=\"font-weight: 500;\"&gt;<span class="hljs-subst">#{tag}</span>&lt;/td&gt;&lt;/tr&gt;"</span>
  <span class="hljs-keyword">end</span>
  content += <span class="hljs-string">'&lt;/tbody&gt;&lt;/table&gt;'</span>
  html_row_wrap(content)
<span class="hljs-keyword">end</span>

<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">staging_html_content_input_elements_for_phases</span><span class="hljs-params">(phases)</span></span>
  content_class  = <span class="hljs-variable">@seed</span>.model_class(<span class="hljs-symbol">:html</span>, <span class="hljs-symbol">:content</span>)
  element_class  = <span class="hljs-variable">@seed</span>.model_class(<span class="hljs-symbol">:input_element</span>, <span class="hljs-symbol">:element</span>)
  components     = <span class="hljs-variable">@seed</span>.model_class(<span class="hljs-symbol">:casespace</span>, <span class="hljs-symbol">:phase_component</span>).where(<span class="hljs-symbol">phase_id:</span> phases.map(&amp;<span class="hljs-symbol">:id</span>), <span class="hljs-symbol">componentable_type:</span> content_class.name)
  componentables = components.map(&amp;<span class="hljs-symbol">:componentable</span>)
  element_class.where(<span class="hljs-symbol">componentable:</span> componentables).order(<span class="hljs-symbol">:id</span>)
<span class="hljs-keyword">end</span>

<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">staging_escape_html</span><span class="hljs-params">(html)</span>;</span> <span class="hljs-constant">ERB::Util</span>.html_escape(html); <span class="hljs-keyword">end</span></div></div></div></div></body></html>