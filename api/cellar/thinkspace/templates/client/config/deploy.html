<!DOCTYPE html><html lang="en"><head><title>thinkspace/templates/client/config/deploy</title></head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0"><meta name="groc-relative-root" content="../../../../"><meta name="groc-document-path" content="thinkspace/templates/client/config/deploy"><meta name="groc-project-path" content="src/thinkspace/templates/client/config/deploy.js"><meta name="groc-branch-path" content="feature/pe-documentation"><meta name="groc-github-url" content="https://github.com/sixthedge/cellar"><link rel="stylesheet" type="text/css" media="all" href="../../../../assets/style.css"><script type="text/javascript" src="../../../../assets/behavior.js"></script><body><div id="meta"><div class="file-path"><a href="https://github.com/sixthedge/cellar/blob/feature/pe-documentation/src/thinkspace/templates/client/config/deploy.js">src/thinkspace/templates/client/config/deploy.js</a></div></div><div id="document"><a href="/" class="lodestar-link">Back to Guides</a><div class="segment"><div class="comments "><div class="wrapper"><p>jshint node: true </p></div></div><div class="code"><div class="wrapper"><span class="hljs-built_in">module</span>.exports = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">deployTarget</span>) </span>{
  <span class="hljs-keyword">var</span> ENV = {
    build: {}</div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>include other plugin configuration that applies to all deploy targets here</p></div></div><div class="code"><div class="wrapper">  };

  <span class="hljs-keyword">if</span> (deployTarget === <span class="hljs-string">'development'</span>) {
    ENV.build.environment = <span class="hljs-string">'development'</span>;</div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>configure other plugins for development deploy target here</p></div></div><div class="code"><div class="wrapper">  }

  <span class="hljs-keyword">if</span> (deployTarget === <span class="hljs-string">'staging'</span>) {
    ENV.build.environment = <span class="hljs-string">'production'</span>;
    ENV.redis = {
      url: <span class="hljs-string">'STAGING-REDIS-URL'</span>
    }
    ENV.s3 = {
      accessKeyId:     <span class="hljs-string">'STAGING-AWS-INFO'</span>,
      secretAccessKey: <span class="hljs-string">'STAGING-AWS-INFO'</span>,
      bucket:          <span class="hljs-string">'STAGING-AWS-INFO'</span>,
      region:          <span class="hljs-string">'STAGING-AWS-INFO'</span>
    }</div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>configure other plugins for staging deploy target here</p></div></div><div class="code"><div class="wrapper">  }

  <span class="hljs-keyword">if</span> (deployTarget === <span class="hljs-string">'production'</span>) {
    ENV.build.environment = <span class="hljs-string">'production'</span>;
    ENV.redis = {
      url: <span class="hljs-string">'PRODUCTION-REDIS-URL'</span>
    }
    ENV.s3 = {
      accessKeyId:     <span class="hljs-string">'PRODUCTION-AWS-INFO'</span>,
      secretAccessKey: <span class="hljs-string">'PRODUCTION-AWS-INFO'</span>,
      bucket:          <span class="hljs-string">'PRODUCTION-AWS-INFO'</span>,
      region:          <span class="hljs-string">'PRODUCTION-AWS-INFO'</span>
    }
  }</div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>Note: if you need to build some configuration asynchronously, you can return
a promise that resolves with the ENV object instead of returning the
ENV object synchronously.</p></div></div><div class="code"><div class="wrapper">  <span class="hljs-keyword">return</span> ENV;
};</div></div></div></div></body></html>