<!DOCTYPE html><html lang="en"><head><title>thinkspace/client/thinkspace-phase/node_modules/ember-cli-coffees6/tests/filter-test</title></head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0"><meta name="groc-relative-root" content="../../../../../../"><meta name="groc-document-path" content="thinkspace/client/thinkspace-phase/node_modules/ember-cli-coffees6/tests/filter-test"><meta name="groc-project-path" content="src/thinkspace/client/thinkspace-phase/node_modules/ember-cli-coffees6/tests/filter-test.coffee"><meta name="groc-branch-path" content="master"><meta name="groc-github-url" content="https://github.com/sixthedge/cellar"><link rel="stylesheet" type="text/css" media="all" href="../../../../../../assets/style.css"><script type="text/javascript" src="../../../../../../assets/behavior.js"></script><body><div id="meta"><div class="file-path"><a href="https://github.com/sixthedge/cellar/blob/master/src/thinkspace/client/thinkspace-phase/node_modules/ember-cli-coffees6/tests/filter-test.coffee">src/thinkspace/client/thinkspace-phase/node_modules/ember-cli-coffees6/tests/filter-test.coffee</a></div></div><div id="document"><a href="/" class="lodestar-link">Back to Guides</a><div class="segment"><div class="code"><div class="wrapper">CoffeescriptEs6Filter = <span class="hljs-built_in">require</span> <span class="hljs-string">'../filter'</span>
<span class="hljs-function">
<span class="hljs-title">process</span> = <span class="hljs-params">(string)</span> -&gt;</span>
  <span class="hljs-keyword">new</span> CoffeescriptEs6Filter(<span class="hljs-string">"test"</span>).processString string
<span class="hljs-function">
<span class="hljs-title">assertOutput</span> = <span class="hljs-params">(input, output)</span> -&gt;</span>
  equal process(input), output
<span class="hljs-function">
<span class="hljs-title">assertThrows</span> = <span class="hljs-params">(input, messageRegex)</span> -&gt;</span>
  throws -&gt;
    process(input)
  , messageRegex, <span class="hljs-string">"Failed on <span class="hljs-subst">#{input}</span>"</span>

test <span class="hljs-string">"default imports"</span>, <span class="hljs-function">=&gt;</span>
  assertOutput <span class="hljs-string">"""
    import Ember from "ember"
  """</span>
  ,
  <span class="hljs-string">"""
    `import Ember from "ember";`
  """</span>


test <span class="hljs-string">"named imports"</span>, <span class="hljs-function">=&gt;</span>
  assertOutput <span class="hljs-string">"""
    import { sin, cos as c } from "math"
  """</span>
  ,
  <span class="hljs-string">"""
    `import { sin, cos as c } from "math";`
  """</span>

test <span class="hljs-string">"combined default and named imports"</span>, <span class="hljs-function">=&gt;</span>
  assertOutput <span class="hljs-string">"""
    import Matrix, { multiply } from "matrix"
  """</span>
  ,
  <span class="hljs-string">"""
    `import Matrix, { multiply } from "matrix";`
  """</span>

test <span class="hljs-string">"batch import"</span>, <span class="hljs-function">=&gt;</span>
  assertOutput <span class="hljs-string">"""
    import * as Math from "math"
  """</span>
  ,
  <span class="hljs-string">"""
    `import * as Math from "math";`
  """</span>

test <span class="hljs-string">"default expression export"</span>, <span class="hljs-function">=&gt;</span>
  assertOutput <span class="hljs-string">"""
    export default 42
  """</span>
  ,
  <span class="hljs-string">"""
    ___DefaultExportObject___ = 42

    `export default ___DefaultExportObject___;`
  """</span>

test <span class="hljs-string">"default named function export"</span>, <span class="hljs-function">=&gt;</span>
  assertOutput <span class="hljs-string">"""
    export default sin = (x) -&gt;
  """</span>
  ,
  <span class="hljs-string">"""
    ___DefaultExportObject___ = sin = (x) -&gt;

    `export default ___DefaultExportObject___;`
  """</span>


test <span class="hljs-string">"default named class export"</span>, <span class="hljs-function">-&gt;</span>
  assertOutput <span class="hljs-string">"""
    export default class Matrix
  """</span>
  ,
  <span class="hljs-string">"""
    ___DefaultExportObject___ = class Matrix

    `export default ___DefaultExportObject___;`
  """</span>

test <span class="hljs-string">"default anonymous function export"</span>, <span class="hljs-function">-&gt;</span>
  assertOutput <span class="hljs-string">"""
    export default (x) -&gt;
  """</span>
  ,
  <span class="hljs-string">"""
    ___DefaultExportObject___ = (x) -&gt;

    `export default ___DefaultExportObject___;`
  """</span>

test <span class="hljs-string">"default anonymous class export"</span>, <span class="hljs-function">-&gt;</span>
  assertOutput <span class="hljs-string">"""
    export default class Foo
  """</span>
  ,
  <span class="hljs-string">"""
    ___DefaultExportObject___ = class Foo

    `export default ___DefaultExportObject___;`
  """</span>

test <span class="hljs-string">"named exports"</span>, <span class="hljs-function">-&gt;</span>
  assertOutput <span class="hljs-string">"""
    export { sin, c as cos }
  """</span>
  ,
  <span class="hljs-string">"""
    `export { sin, c as cos };`
  """</span>

test <span class="hljs-string">"named class export"</span>, <span class="hljs-function">-&gt;</span>
  assertOutput <span class="hljs-string">"""
    export class Point
      constructor: (@x, @y) -&gt;
  """</span>
  ,
  <span class="hljs-string">"""
    class Point
      constructor: (@x, @y) -&gt;

    `export { Point };`
  """</span>

test <span class="hljs-string">"named function export"</span>, <span class="hljs-function">-&gt;</span>
  assertOutput <span class="hljs-string">"""
    export sin = (x) -&gt;
  """</span>
  ,
  <span class="hljs-string">"""
    sin = (x) -&gt;

    `export { sin };`
  """</span>

test <span class="hljs-string">"named variable export"</span>, <span class="hljs-function">-&gt;</span>
  assertOutput <span class="hljs-string">"""
    export PI = 3.14159
  """</span>
  ,
  <span class="hljs-string">"""
    PI = 3.14159

    `export { PI };`
  """</span>

test <span class="hljs-string">"named exports with source"</span>, <span class="hljs-function">-&gt;</span>
  assertOutput <span class="hljs-string">"""
    export { sin, cos as c } from "math"
  """</span>
  ,
  <span class="hljs-string">"""
    `export { sin, cos as c } from "math";`
  """</span>
test <span class="hljs-string">"batch export"</span>, <span class="hljs-function">-&gt;</span>
  assertOutput <span class="hljs-string">"""
    export * from "math"
  """</span>
  ,
  <span class="hljs-string">"""
    `export * from "math";`
  """</span>

test <span class="hljs-string">"nested export"</span>, <span class="hljs-function">-&gt;</span>
  assertOutput <span class="hljs-string">"""
    export default
      name: 'body-class'
      initialize: (container) -&gt;
        container.foo()

    export PI =
      3.14

    export TAU = 
      6.28 
  """</span>
  ,
  <span class="hljs-string">"""
    ___DefaultExportObject___ = 
      name: 'body-class'
      initialize: (container) -&gt;
        container.foo()

    PI =
      3.14

    TAU = 
      6.28 

    `export default ___DefaultExportObject___;`

    `export { PI, TAU };`
  """</span>

  assertOutput <span class="hljs-string">"""
    export default 
      name: 'body-class'
      initialize: (container) -&gt;
        container.foo()
  """</span>
  ,
  <span class="hljs-string">"""
    ___DefaultExportObject___ = 
      name: 'body-class'
      initialize: (container) -&gt;
        container.foo()

    `export default ___DefaultExportObject___;`
  """</span>




test <span class="hljs-string">"multiple exports"</span>, <span class="hljs-function">-&gt;</span>
  assertOutput <span class="hljs-string">"""
    export { sin, c as cos }
    export class Matrix
    export sin = (x) -&gt;
    export PI = 3.14159

    export { sin, cos as c } from "math"
    export * from "math"
    export default 42
  """</span>
  ,
  <span class="hljs-string">"""
    `export { sin, c as cos };`
    class Matrix
    sin = (x) -&gt;
    PI = 3.14159

    `export { sin, cos as c } from "math";`
    `export * from "math";`
    ___DefaultExportObject___ = 42

    `export default ___DefaultExportObject___;`

    `export { Matrix, sin, PI };`
  """</span>


test <span class="hljs-string">"handles space at end of line"</span>, <span class="hljs-function">-&gt;</span>
  assertOutput <span class="hljs-string">"""
    import Ember from "ember"  
    import { sin, cos as c } from "math"  
    import Matrix, { multiply } from "matrix"  
    import * as Math from "math"  
    export default 42  
    export { sin, c as cos }  
    export class Point  
      constructor: (@x, @y) -&gt;  
    export sin = (x) -&gt;  
    export PI = 3.14159  
    export { sin, cos as c } from "math"  
    export * from "math"  
  """</span>
  ,
  <span class="hljs-string">"""
    `import Ember from "ember"  ;`
    `import { sin, cos as c } from "math"  ;`
    `import Matrix, { multiply } from "matrix"  ;`
    `import * as Math from "math"  ;`
    ___DefaultExportObject___ = 42  
    `export { sin, c as cos }  ;`
    class Point  
      constructor: (@x, @y) -&gt;  
    sin = (x) -&gt;  
    PI = 3.14159  
    `export { sin, cos as c } from "math"  ;`
    `export * from "math"  
    ;`
    `export default ___DefaultExportObject___;`

    `export { Point, sin, PI };`
  """</span>

test <span class="hljs-string">"throws error if semicolon used"</span>, <span class="hljs-function">-&gt;</span>
  assertThrows <span class="hljs-string">"""
    import Ember from "ember";
  """</span>
  , <span class="hljs-regexp">/semicolon/</span>

  assertThrows <span class="hljs-string">"""
    import Ember from "ember" ; 
  """</span>
  , <span class="hljs-regexp">/semicolon/</span>

  assertThrows <span class="hljs-string">"""
    import { sin, cos as c } from "math";
  """</span>
  , <span class="hljs-regexp">/semicolon/</span>

  assertThrows <span class="hljs-string">"""
    import { sin, cos as c } from "math" ; 
  """</span>
  , <span class="hljs-regexp">/semicolon/</span>

  assertThrows <span class="hljs-string">"""
    import Matrix, { multiply } from "matrix";
  """</span>
  , <span class="hljs-regexp">/semicolon/</span>

  assertThrows <span class="hljs-string">"""
    import Matrix, { multiply } from "matrix" ; 
  """</span>
  , <span class="hljs-regexp">/semicolon/</span>

  assertThrows <span class="hljs-string">"""
    import * as Math from "math";
  """</span>
  , <span class="hljs-regexp">/semicolon/</span>

  assertThrows <span class="hljs-string">"""
    import * as Math from "math" ; 
  """</span>
  , <span class="hljs-regexp">/semicolon/</span>

  assertThrows <span class="hljs-string">"""
    export default 42;
  """</span>
  , <span class="hljs-regexp">/semicolon/</span>

  assertThrows <span class="hljs-string">"""
    export default 42 ; 
  """</span>
  , <span class="hljs-regexp">/semicolon/</span>

  assertThrows <span class="hljs-string">"""
    export { sin, c as cos };
  """</span>
  , <span class="hljs-regexp">/semicolon/</span>

  assertThrows <span class="hljs-string">"""
    export { sin, c as cos } ; 
  """</span>
  , <span class="hljs-regexp">/semicolon/</span>

  assertThrows <span class="hljs-string">"""
    export PI = 3.14159;
  """</span>
  , <span class="hljs-regexp">/semicolon/</span>

  assertThrows <span class="hljs-string">"""
    export PI = 3.14159 ; 
  """</span>
  , <span class="hljs-regexp">/semicolon/</span>

  assertThrows <span class="hljs-string">"""
    export { sin, cos as c } from "math";
  """</span>
  , <span class="hljs-regexp">/semicolon/</span>

  assertThrows <span class="hljs-string">"""
    export { sin, cos as c } from "math" ; 
  """</span>
  , <span class="hljs-regexp">/semicolon/</span>

  assertThrows <span class="hljs-string">"""
    export * from "math";
  """</span>
  , <span class="hljs-regexp">/semicolon/</span>

  assertThrows <span class="hljs-string">"""
    export * from "math" ; 
  """</span>
  , <span class="hljs-regexp">/semicolon/</span></div></div></div></div></body></html>