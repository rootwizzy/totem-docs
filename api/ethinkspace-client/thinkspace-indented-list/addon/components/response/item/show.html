<!DOCTYPE html><html lang="en"><head><title>thinkspace-indented-list/addon/components/response/item/show</title></head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0"><meta name="groc-relative-root" content="../../../../../"><meta name="groc-document-path" content="thinkspace-indented-list/addon/components/response/item/show"><meta name="groc-project-path" content="thinkspace-indented-list/addon/components/response/item/show.coffee"><meta name="groc-branch-path" content="development"><meta name="groc-github-url" content="https://github.com/sixthedge/ethinkspace-client"><link rel="stylesheet" type="text/css" media="all" href="../../../../../assets/style.css"><script type="text/javascript" src="../../../../../assets/behavior.js"></script><body><div id="meta"><div class="file-path"><a href="https://github.com/sixthedge/ethinkspace-client/blob/development/thinkspace-indented-list/addon/components/response/item/show.coffee">thinkspace-indented-list/addon/components/response/item/show.coffee</a></div></div><div id="document"><a href="/" class="lodestar-link">Back to Guides</a><div class="segment"><div class="code"><div class="wrapper">import ember          from <span class="hljs-string">'ember'</span>
import base  from <span class="hljs-string">'thinkspace-base/components/base'</span>

export default base.extend
  <span class="hljs-attribute">classNames</span>:        [<span class="hljs-string">'indented-list_item-container'</span>]
  <span class="hljs-attribute">classNameBindings</span>: [<span class="hljs-string">'zoom_level_class'</span>, <span class="hljs-string">'item_visible::indented-list_hide'</span>, <span class="hljs-string">'is_selected:indented-list_selected-item'</span>, <span class="hljs-string">'overflow_visible:overflow-visible'</span>, <span class="hljs-string">'overflow_visible:is-expanded'</span>, <span class="hljs-string">'edit_visible:is-editing'</span>, <span class="hljs-string">'confirm_remove_visible:is-deleting'</span>, <span class="hljs-string">'is_mechanism:is-mechanism'</span>]
  <span class="hljs-attribute">attributeBindings</span>: [<span class="hljs-string">'tabindex'</span>]</div></div></div><div class="segment"><div class="comments "><div class="wrapper"><h3 id="computed-properties">Computed properties</h3></div></div></div><div class="segment"><div class="code"><div class="wrapper">  <span class="hljs-attribute">is_mechanism</span>:     ember.computed.equal <span class="hljs-string">'item.icon'</span>, <span class="hljs-string">'mechanism'</span>
  <span class="hljs-attribute">zoom_level_class</span>: ember.computed <span class="hljs-string">'rm.zoom_level'</span>, <span class="hljs-function">-&gt;</span> <span class="hljs-string">"zoom-<span class="hljs-subst">#{<span class="hljs-property">@get</span>(<span class="hljs-string">'rm.zoom_level'</span>)}</span>"</span>
  <span class="hljs-attribute">show_dropdown</span>:    ember.computed.<span class="hljs-keyword">or</span> <span class="hljs-string">'has_overflow'</span>, <span class="hljs-string">'has_children'</span>, <span class="hljs-string">'rm.updateable'</span>

  <span class="hljs-attribute">dropdown_collection</span>: ember.computed <span class="hljs-string">'has_children'</span>, <span class="hljs-string">'has_overflow'</span>, <span class="hljs-string">'children_visible'</span>, <span class="hljs-string">'overflow_visible'</span>, <span class="hljs-function">-&gt;</span>
    overflow_text = <span class="hljs-keyword">if</span> <span class="hljs-property">@get</span>(<span class="hljs-string">'overflow_visible'</span>) <span class="hljs-keyword">then</span> <span class="hljs-string">'Collapse'</span> <span class="hljs-keyword">else</span> <span class="hljs-string">'Expand'</span>
    pack_text     = <span class="hljs-keyword">if</span> <span class="hljs-property">@get</span>(<span class="hljs-string">'children_visible'</span>) <span class="hljs-keyword">then</span> <span class="hljs-string">'Pack with children'</span> <span class="hljs-keyword">else</span> <span class="hljs-string">'Unpack children'</span>
    collection    = []
    collection.push {<span class="hljs-attribute">display</span>: overflow_text, <span class="hljs-attribute">action</span>: <span class="hljs-string">'toggle_overflow'</span>}  <span class="hljs-keyword">if</span> <span class="hljs-property">@get</span>(<span class="hljs-string">'has_overflow'</span>)
    collection.push {<span class="hljs-attribute">display</span>: pack_text,     <span class="hljs-attribute">action</span>: <span class="hljs-string">'toggle_children'</span>}  <span class="hljs-keyword">if</span> <span class="hljs-property">@get</span>(<span class="hljs-string">'has_children'</span>)
    <span class="hljs-keyword">if</span> <span class="hljs-property">@rm</span>.updateable
      collection.push {<span class="hljs-attribute">display</span>: <span class="hljs-string">'Edit'</span>,                <span class="hljs-attribute">action</span>: <span class="hljs-string">'edit'</span>}
      collection.push {<span class="hljs-attribute">display</span>: <span class="hljs-string">'Duplicate before'</span>,    <span class="hljs-attribute">action</span>: <span class="hljs-string">'duplicate_before'</span>}
      collection.push {<span class="hljs-attribute">display</span>: <span class="hljs-string">'Duplicate after'</span>,     <span class="hljs-attribute">action</span>: <span class="hljs-string">'duplicate_after'</span>}
      collection.push {<span class="hljs-attribute">display</span>: <span class="hljs-string">'Add path item above'</span>, <span class="hljs-attribute">action</span>: <span class="hljs-string">'insert_before'</span>}
      collection.push {<span class="hljs-attribute">display</span>: <span class="hljs-string">'Add path item below'</span>, <span class="hljs-attribute">action</span>: <span class="hljs-string">'insert_after'</span>}
      collection.push {<span class="hljs-attribute">display</span>: <span class="hljs-string">'Remove'</span>,              <span class="hljs-attribute">action</span>: <span class="hljs-string">'remove'</span>}
    collection

  <span class="hljs-attribute">item_visible</span>:     <span class="hljs-literal">true</span>
  <span class="hljs-attribute">children_visible</span>: <span class="hljs-literal">true</span>
  <span class="hljs-attribute">has_children</span>:     <span class="hljs-literal">false</span>
  <span class="hljs-attribute">number_children</span>:  <span class="hljs-literal">null</span>
  <span class="hljs-attribute">is_selected</span>:      <span class="hljs-literal">false</span>

  <span class="hljs-attribute">show_value</span>:             <span class="hljs-literal">null</span>
  <span class="hljs-attribute">edit_visible</span>:           <span class="hljs-literal">false</span>
  <span class="hljs-attribute">confirm_remove_visible</span>: <span class="hljs-literal">false</span>

  <span class="hljs-attribute">tabindex</span>: <span class="hljs-number">1</span>

  <span class="hljs-attribute">get_element</span>: <span class="hljs-function">-&gt;</span> <span class="hljs-property">@$</span>()
  <span class="hljs-attribute">get_item</span>:    <span class="hljs-function">-&gt;</span> <span class="hljs-property">@get</span>(<span class="hljs-string">'item'</span>)

  <span class="hljs-attribute">turn_on_edit</span>:    <span class="hljs-function">-&gt;</span> <span class="hljs-property">@set</span> <span class="hljs-string">'edit_visible'</span>, <span class="hljs-literal">true</span>
  <span class="hljs-attribute">turn_off_edit</span>:   <span class="hljs-function">-&gt;</span> <span class="hljs-property">@set</span> <span class="hljs-string">'edit_visible'</span>, <span class="hljs-literal">false</span>
  <span class="hljs-attribute">turn_on_remove</span>:  <span class="hljs-function">-&gt;</span> <span class="hljs-property">@set</span> <span class="hljs-string">'confirm_remove_visible'</span>, <span class="hljs-literal">true</span>
  <span class="hljs-attribute">turn_off_remove</span>: <span class="hljs-function">-&gt;</span> <span class="hljs-property">@set</span> <span class="hljs-string">'confirm_remove_visible'</span>, <span class="hljs-literal">false</span></div></div></div><div class="segment"><div class="comments "><div class="wrapper"><h2 id="">#</h2>
<h3 id="events">Events.</h3>
<h2 id="">#</h2></div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>In order to receive the &#39;keyUp&#39; event, this item&#39;s element must have focus.</p></div></div><div class="code"><div class="wrapper">  <span class="hljs-attribute">click</span>: <span class="hljs-function"><span class="hljs-params">(event)</span> -&gt;</span>
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">if</span> <span class="hljs-property">@get</span>(<span class="hljs-string">'edit_visible'</span>)
    <span class="hljs-property">@rm</span>.select_item <span class="hljs-property">@get_item</span>()
    <span class="hljs-property">@highlight_itemable</span>()

  <span class="hljs-attribute">focusOut</span>: <span class="hljs-function"><span class="hljs-params">(event)</span> -&gt;</span>
    <span class="hljs-property">@set</span> <span class="hljs-string">'is_selected'</span>, <span class="hljs-literal">false</span>
    <span class="hljs-property">@unhighlight_itemable</span>()

  <span class="hljs-attribute">focusIn</span>: <span class="hljs-function"><span class="hljs-params">(event)</span> -&gt;</span>
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">if</span> <span class="hljs-property">@get</span>(<span class="hljs-string">'edit_visible'</span>)
    <span class="hljs-property">@rm</span>.select_item <span class="hljs-property">@get_item</span>(), <span class="hljs-attribute">skip_focus</span>: <span class="hljs-literal">true</span>
    <span class="hljs-property">@highlight_itemable</span>()</div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>event.keyCodes
 37:  left arrow
 38:  up arrow
 39:  right arrow
 40:  down arrow
 61:  &#39;+&#39; above &#39;=&#39;
 107: &#39;+&#39; on numeric keypad
 109: &#39;-&#39; on numeric keypad
 173: &#39;-&#39; by &#39;=&#39;</p></div></div><div class="code"><div class="wrapper">  <span class="hljs-attribute">keyDown</span>: <span class="hljs-function"><span class="hljs-params">(event)</span> -&gt;</span>
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">if</span> <span class="hljs-property">@get</span>(<span class="hljs-string">'edit_visible'</span>)
    <span class="hljs-keyword">switch</span> event.keyCode
      <span class="hljs-keyword">when</span> <span class="hljs-number">37</span>           <span class="hljs-keyword">then</span> <span class="hljs-property">@rm</span>.move_left  <span class="hljs-property">@get_item</span>(); <span class="hljs-property">@stop_event</span>(event)
      <span class="hljs-keyword">when</span> <span class="hljs-number">38</span>           <span class="hljs-keyword">then</span> <span class="hljs-property">@rm</span>.move_up    <span class="hljs-property">@get_item</span>(); <span class="hljs-property">@stop_event</span>(event)
      <span class="hljs-keyword">when</span> <span class="hljs-number">39</span>           <span class="hljs-keyword">then</span> <span class="hljs-property">@rm</span>.move_right <span class="hljs-property">@get_item</span>(); <span class="hljs-property">@stop_event</span>(event)
      <span class="hljs-keyword">when</span> <span class="hljs-number">40</span>           <span class="hljs-keyword">then</span> <span class="hljs-property">@rm</span>.move_down  <span class="hljs-property">@get_item</span>(); <span class="hljs-property">@stop_event</span>(event)
      <span class="hljs-keyword">when</span> <span class="hljs-number">46</span>           <span class="hljs-keyword">then</span> <span class="hljs-property">@send</span> <span class="hljs-string">'remove'</span>; <span class="hljs-property">@stop_event</span>(event)

  <span class="hljs-attribute">keyPress</span>: <span class="hljs-function"><span class="hljs-params">(event)</span> -&gt;</span>
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">if</span> <span class="hljs-property">@get</span>(<span class="hljs-string">'edit_visible'</span>)
    char_code = event.which || event.charCode || event.keyCode
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">unless</span> char_code
    value = String.fromCharCode(char_code).toLowerCase()

    <span class="hljs-keyword">switch</span> value
      <span class="hljs-keyword">when</span> <span class="hljs-string">'q'</span> <span class="hljs-keyword">then</span> <span class="hljs-property">@insert_before</span>();         <span class="hljs-property">@stop_event</span>(event)
      <span class="hljs-keyword">when</span> <span class="hljs-string">'w'</span> <span class="hljs-keyword">then</span> <span class="hljs-property">@insert_after</span>();          <span class="hljs-property">@stop_event</span>(event)
      <span class="hljs-keyword">when</span> <span class="hljs-string">'a'</span> <span class="hljs-keyword">then</span> <span class="hljs-property">@duplicate_before</span>();      <span class="hljs-property">@stop_event</span>(event)
      <span class="hljs-keyword">when</span> <span class="hljs-string">'s'</span> <span class="hljs-keyword">then</span> <span class="hljs-property">@duplicate_after</span>();       <span class="hljs-property">@stop_event</span>(event)
      <span class="hljs-keyword">when</span> <span class="hljs-string">'z'</span> <span class="hljs-keyword">then</span> <span class="hljs-property">@send</span>(<span class="hljs-string">'toggle_children'</span>); <span class="hljs-property">@stop_event</span>(event)

  <span class="hljs-attribute">stop_event</span>: <span class="hljs-function"><span class="hljs-params">(event)</span> -&gt;</span>
    event.preventDefault()
    event.stopPropagation()

  <span class="hljs-attribute">duplicate_before</span>: <span class="hljs-function">-&gt;</span> <span class="hljs-property">@rm</span>.duplicate_before <span class="hljs-property">@get_item</span>()
  <span class="hljs-attribute">duplicate_after</span>:  <span class="hljs-function">-&gt;</span> <span class="hljs-property">@rm</span>.duplicate_after  <span class="hljs-property">@get_item</span>()
  <span class="hljs-attribute">insert_before</span>:    <span class="hljs-function">-&gt;</span> <span class="hljs-property">@rm</span>.insert_before    <span class="hljs-property">@get_item</span>()
  <span class="hljs-attribute">insert_after</span>:     <span class="hljs-function">-&gt;</span> <span class="hljs-property">@rm</span>.insert_after     <span class="hljs-property">@get_item</span>()</div></div></div><div class="segment"><div class="comments "><div class="wrapper"><h2 id="">#</h2>
<h3 id="actions">Actions.</h3>
<h2 id="">#</h2></div></div><div class="code"><div class="wrapper">  <span class="hljs-attribute">actions</span>:
    <span class="hljs-attribute">duplicate_before</span>: <span class="hljs-function">-&gt;</span> <span class="hljs-property">@duplicate_before</span>(); <span class="hljs-keyword">return</span>
    <span class="hljs-attribute">duplicate_after</span>:  <span class="hljs-function">-&gt;</span> <span class="hljs-property">@duplicate_after</span>();  <span class="hljs-keyword">return</span>
    <span class="hljs-attribute">insert_before</span>:    <span class="hljs-function">-&gt;</span> <span class="hljs-property">@insert_before</span>();    <span class="hljs-keyword">return</span>
    <span class="hljs-attribute">insert_after</span>:     <span class="hljs-function">-&gt;</span> <span class="hljs-property">@insert_after</span>();     <span class="hljs-keyword">return</span>

    <span class="hljs-attribute">remove</span>: <span class="hljs-function">-&gt;</span>
      <span class="hljs-keyword">return</span> <span class="hljs-keyword">if</span> <span class="hljs-property">@get_readonly</span>()
      <span class="hljs-keyword">if</span> <span class="hljs-property">@rm</span>.show_confirm_remove()
        <span class="hljs-property">@remove_draggable_class</span>()
        <span class="hljs-property">@turn_off_edit</span>()
        <span class="hljs-property">@turn_on_remove</span>()
      <span class="hljs-keyword">else</span>
        <span class="hljs-property">@send</span> <span class="hljs-string">'remove_ok'</span>
      <span class="hljs-keyword">return</span>

    <span class="hljs-attribute">remove_cancel</span>: <span class="hljs-function">-&gt;</span>
      <span class="hljs-property">@add_draggable_class</span>()
      <span class="hljs-property">@turn_off_remove</span>()
      <span class="hljs-keyword">return</span>

    <span class="hljs-attribute">remove_ok</span>: <span class="hljs-function">-&gt;</span>
      <span class="hljs-property">@unhighlight_itemable</span>()
      <span class="hljs-property">@rm</span>.remove_item <span class="hljs-property">@get_item</span>()
      <span class="hljs-keyword">return</span>

    <span class="hljs-attribute">edit</span>: <span class="hljs-function">-&gt;</span>
      <span class="hljs-keyword">return</span> <span class="hljs-keyword">if</span> <span class="hljs-property">@get_readonly</span>()
      <span class="hljs-property">@remove_draggable_class</span>()
      <span class="hljs-property">@turn_off_remove</span>()
      <span class="hljs-property">@turn_on_edit</span>()
      <span class="hljs-keyword">return</span>

    <span class="hljs-attribute">edit_cancel</span>: <span class="hljs-function">-&gt;</span>
      <span class="hljs-property">@add_draggable_class</span>()
      <span class="hljs-property">@turn_off_edit</span>()
      <span class="hljs-keyword">return</span>

    <span class="hljs-attribute">edit_done</span>: <span class="hljs-function"><span class="hljs-params">(value)</span> -&gt;</span>
      item = <span class="hljs-property">@get_item</span>()
      rm   = <span class="hljs-property">@rm</span>
      <span class="hljs-keyword">if</span> ember.isPresent(value)
        item.description = value.trimRight()</div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>Set the item&#39;s itemable &#39;is_used&#39; off unless another item also has the itemable.</p></div></div><div class="code"><div class="wrapper">        rm.clear_item_itemable(item).<span class="hljs-keyword">then</span> =&gt;
          <span class="hljs-property">@set_item_show_value</span>()
          <span class="hljs-property">@set_has_overflow</span>()
      <span class="hljs-property">@send</span> <span class="hljs-string">'edit_cancel'</span>
      <span class="hljs-keyword">return</span>

    <span class="hljs-attribute">toggle_overflow</span>: <span class="hljs-function">-&gt;</span>
      <span class="hljs-property">@toggleProperty</span>(<span class="hljs-string">'overflow_visible'</span>)
      <span class="hljs-keyword">return</span>

    <span class="hljs-attribute">toggle_children</span>: <span class="hljs-function">-&gt;</span>
      <span class="hljs-keyword">return</span> <span class="hljs-keyword">unless</span> <span class="hljs-property">@get</span>(<span class="hljs-string">'has_children'</span>)
      items = <span class="hljs-property">@get_item_children</span>()
      <span class="hljs-property">@rm</span>.set_children_items_visibility items, <span class="hljs-property">@toggleProperty</span>(<span class="hljs-string">'children_visible'</span>)
      <span class="hljs-property">@set_number_of_children</span>()
      <span class="hljs-keyword">return</span>

  <span class="hljs-attribute">set_number_of_children</span>: <span class="hljs-function">-&gt;</span>
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">if</span> <span class="hljs-property">@get</span>(<span class="hljs-string">'children_visible'</span>)
    <span class="hljs-property">@set</span> <span class="hljs-string">'number_children'</span>, <span class="hljs-property">@get_item_children</span>(<span class="hljs-literal">false</span>).length</div></div></div><div class="segment"><div class="comments "><div class="wrapper"><h2 id="">#</h2>
<h3 id="insert-element">Insert Element.</h3>
<h2 id="">#</h2></div></div><div class="code"><div class="wrapper">  <span class="hljs-attribute">willInsertElement</span>: <span class="hljs-function">-&gt;</span>
    <span class="hljs-property">@set_item_show_value</span>()
    <span class="hljs-property">@set_itemable_is_used</span>()
    <span class="hljs-property">@set_itemable_icon</span>()
    <span class="hljs-property">@rm</span>.register_component(@)

  <span class="hljs-attribute">didInsertElement</span>: <span class="hljs-function">-&gt;</span>
    <span class="hljs-property">@add_draggable_class</span>()
    <span class="hljs-property">@set_has_children</span>()
    <span class="hljs-property">@add_item_classes</span>()
    <span class="hljs-property">@set_indent</span>()</div></div></div><div class="segment"><div class="comments "><div class="wrapper"><h3 id="testing-only">TESTING ONLY</h3></div></div></div><div class="segment"><div class="code"><div class="wrapper">    <span class="hljs-property">@set</span> <span class="hljs-string">'guid'</span>, ember.guidFor(@)
    item = <span class="hljs-property">@get_item</span>()
    <span class="hljs-keyword">unless</span> ember.isPresent(item.test_id)
      ember.set(item, <span class="hljs-string">'test_id'</span>, <span class="hljs-property">@rm</span>.value_items.indexOf(item))</div></div></div><div class="segment"><div class="comments "><div class="wrapper"><h2 id="">#</h2>
<h3 id="set-properties">Set Properties.</h3>
<h2 id="">#</h2></div></div><div class="code"><div class="wrapper">  <span class="hljs-attribute">set_item_show_value</span>: <span class="hljs-function">-&gt;</span>
    item = <span class="hljs-property">@get_item</span>()
    <span class="hljs-property">@rm</span>.get_item_value(item).<span class="hljs-keyword">then</span> (value) =&gt;
      <span class="hljs-property">@set</span> <span class="hljs-string">'show_value'</span>, value

  <span class="hljs-attribute">set_has_children</span>:       <span class="hljs-function">-&gt;</span> <span class="hljs-property">@set</span> <span class="hljs-string">'has_children'</span>, <span class="hljs-property">@rm</span>.has_item_children <span class="hljs-property">@get_item</span>()

  <span class="hljs-attribute">get_item_children</span>:      <span class="hljs-function"><span class="hljs-params">(visible=<span class="hljs-literal">true</span>)</span> -&gt;</span> <span class="hljs-property">@rm</span>.get_item_children <span class="hljs-property">@get_item</span>(), visible
  <span class="hljs-attribute">add_item_classes</span>:       <span class="hljs-function">-&gt;</span> <span class="hljs-property">@rm</span>.add_element_item_classes <span class="hljs-property">@get_element</span>(), <span class="hljs-property">@get_item</span>()
  <span class="hljs-attribute">set_itemable_is_used</span>:   <span class="hljs-function">-&gt;</span> <span class="hljs-property">@rm</span>.set_itemable_is_used <span class="hljs-property">@get_item</span>()
  <span class="hljs-attribute">add_draggable_class</span>:    <span class="hljs-function">-&gt;</span> <span class="hljs-property">@rm</span>.add_draggable_class(<span class="hljs-property">@get_element</span>())
  <span class="hljs-attribute">remove_draggable_class</span>: <span class="hljs-function">-&gt;</span> <span class="hljs-property">@rm</span>.remove_draggable_class(<span class="hljs-property">@get_element</span>())
  <span class="hljs-attribute">get_readonly</span>:           <span class="hljs-function">-&gt;</span> <span class="hljs-property">@rm</span>.readonly

  <span class="hljs-attribute">itemable_icon</span>: <span class="hljs-literal">null</span>
  <span class="hljs-attribute">set_itemable_icon</span>: <span class="hljs-function">-&gt;</span>
    item = <span class="hljs-property">@get_item</span>()
    icon = <span class="hljs-property">@rm</span>.get_item_itemable_icon(item)
    <span class="hljs-property">@set</span> <span class="hljs-string">'itemable_icon'</span>, icon

  <span class="hljs-attribute">set_indent</span>: <span class="hljs-function">-&gt;</span>
    item = <span class="hljs-property">@get_item</span>()
    left = <span class="hljs-property">@rm</span>.calc_item_indent(item)
    $el  = <span class="hljs-property">@get_element</span>()
    $el.css(<span class="hljs-string">'margin-left'</span>, left)
    <span class="hljs-comment">#bc = @background_color(item.pos_x)  TESTING ONLY.</span>
    <span class="hljs-comment">#$el.css('background-color', bc) TESTING ONLY.</span>
    <span class="hljs-property">@set_has_overflow</span>()
    <span class="hljs-property">@set_indent_letter</span>()

  <span class="hljs-attribute">background_color</span>: <span class="hljs-function"><span class="hljs-params">(x)</span> -&gt;</span>
    <span class="hljs-keyword">switch</span> x
      <span class="hljs-keyword">when</span> <span class="hljs-number">0</span>   <span class="hljs-keyword">then</span> <span class="hljs-string">'lightgray'</span>
      <span class="hljs-keyword">when</span> <span class="hljs-number">1</span>   <span class="hljs-keyword">then</span> <span class="hljs-string">'lightblue'</span>
      <span class="hljs-keyword">when</span> <span class="hljs-number">2</span>   <span class="hljs-keyword">then</span> <span class="hljs-string">'wheat'</span>
      <span class="hljs-keyword">when</span> <span class="hljs-number">3</span>   <span class="hljs-keyword">then</span> <span class="hljs-string">'lightgreen'</span>
      <span class="hljs-keyword">when</span> <span class="hljs-number">4</span>   <span class="hljs-keyword">then</span> <span class="hljs-string">'lightsalmon'</span>
      <span class="hljs-keyword">when</span> <span class="hljs-number">5</span>   <span class="hljs-keyword">then</span> <span class="hljs-string">'lightcoral'</span>
      <span class="hljs-keyword">when</span> <span class="hljs-number">6</span>   <span class="hljs-keyword">then</span> <span class="hljs-string">'lightpink'</span>
      <span class="hljs-keyword">else</span> <span class="hljs-property">@get_random_rgb</span>(x)

  <span class="hljs-attribute">get_random_rgb</span>: <span class="hljs-function"><span class="hljs-params">(x)</span> -&gt;</span>
    min = <span class="hljs-number">0</span>
    max = <span class="hljs-number">255</span>
    r = Math.floor(Math.random()*(max-min+<span class="hljs-number">1</span>)+min)
    g = Math.floor(Math.random()*(max-<span class="hljs-number">100</span>+<span class="hljs-number">1</span>)+<span class="hljs-number">100</span>)
    b = Math.floor(Math.random()*(max-min+<span class="hljs-number">1</span>)+min)
    <span class="hljs-string">"rgb(<span class="hljs-subst">#{r}</span>,<span class="hljs-subst">#{g}</span>,<span class="hljs-subst">#{b}</span>)"</span></div></div></div><div class="segment"><div class="comments "><div class="wrapper"><h2 id="">#</h2>
<h3 id="highlight-itemable-example-only-may-not-want-to-do-this">Highlight Itemable (example only, may not want to do this).</h3>
<h2 id="">#</h2></div></div><div class="code"><div class="wrapper">  <span class="hljs-attribute">itemable_highlight_class</span>: <span class="hljs-string">'indented-list_highlight-itemable'</span>

  <span class="hljs-attribute">unhighlight_itemable</span>: <span class="hljs-function">-&gt;</span> <span class="hljs-property">@get_itemable_element</span>().removeClass <span class="hljs-property">@get</span>(<span class="hljs-string">'itemable_highlight_class'</span>)

  <span class="hljs-attribute">highlight_itemable</span>: <span class="hljs-function">-&gt;</span> <span class="hljs-property">@get_itemable_element</span>().addClass <span class="hljs-property">@get</span>(<span class="hljs-string">'itemable_highlight_class'</span>)

  <span class="hljs-attribute">get_itemable_element</span>: <span class="hljs-function">-&gt;</span>
    item = <span class="hljs-property">@get_item</span>()
    id   = item.itemable_id
    type = item.itemable_type
    <span class="hljs-keyword">return</span> $(<span class="hljs-literal">null</span>) <span class="hljs-keyword">unless</span> (type <span class="hljs-keyword">and</span> id)
    path = <span class="hljs-property">@totem_scope</span>.rails_polymorphic_type_to_path(type)
    $(<span class="hljs-string">"[model_id='<span class="hljs-subst">#{id}</span>'][model_type='<span class="hljs-subst">#{path}</span>']"</span>)</div></div></div><div class="segment"><div class="comments "><div class="wrapper"><h2 id="">#</h2>
<h2 id="">#</h2>
<h2 id="">#</h2>
<p>TODO: move to mixin (include action toggle_overflow)</p></div></div><div class="code"><div class="wrapper">  <span class="hljs-attribute">overflow_visible</span>:  <span class="hljs-literal">false</span>
  <span class="hljs-attribute">has_overflow</span>:      <span class="hljs-literal">false</span>

  <span class="hljs-attribute">set_overflow_visible_on</span>:  <span class="hljs-function">-&gt;</span> <span class="hljs-property">@set</span> <span class="hljs-string">'overflow_visible'</span>, <span class="hljs-literal">true</span>
  <span class="hljs-attribute">set_overflow_visible_off</span>: <span class="hljs-function">-&gt;</span> <span class="hljs-property">@set</span> <span class="hljs-string">'overflow_visible'</span>, <span class="hljs-literal">false</span>

  <span class="hljs-attribute">set_has_overflow</span>: <span class="hljs-function">-&gt;</span>
    ember.run.schedule <span class="hljs-string">'afterRender'</span>, @, <span class="hljs-function">=&gt;</span>
      $el        = <span class="hljs-property">@$</span>().find(<span class="hljs-string">'.overflow'</span>)
      element    = $el[<span class="hljs-number">0</span>]
      <span class="hljs-keyword">return</span> <span class="hljs-keyword">if</span> ember.isBlank(element)
      <span class="hljs-property">@set</span> <span class="hljs-string">'has_overflow'</span>, element.scrollWidth &gt; element.clientWidth
      <span class="hljs-property">@propertyDidChange</span>(<span class="hljs-string">'dropdown_collection'</span>) <span class="hljs-comment"># Recompute to avoid a race condition, allows expand to show consistently.</span>

  <span class="hljs-attribute">set_indent_letter</span>: <span class="hljs-function"><span class="hljs-params">(indent)</span> -&gt;</span>
    pos_x = parseInt <span class="hljs-property">@get_item</span>().pos_x
    char  = String.fromCharCode(<span class="hljs-number">97</span> + pos_x)
    char  = <span class="hljs-string">'ZZ'</span> <span class="hljs-keyword">if</span> pos_x &gt; <span class="hljs-number">25</span>
    <span class="hljs-property">@set</span> <span class="hljs-string">'indent_letter'</span>, char.capitalize()</div></div></div></div></body></html>